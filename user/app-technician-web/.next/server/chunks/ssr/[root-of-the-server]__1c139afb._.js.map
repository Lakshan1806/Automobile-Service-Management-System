{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/shavmiyan/Projects/Automobile-Service-Management-System/user/app-technician-web/src/components/LocationMap.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  APIProvider,\n  Map,\n  AdvancedMarker,\n  Pin,\n} from \"@vis.gl/react-google-maps\";\n\nfunction LocationMap({\n  currentLocation: { lat: userLat, lng: userLng },\n  customerLocation: { lat: customerLat, lng: customerLng },\n}: {\n  currentLocation: { lat: number; lng: number };\n  customerLocation: { lat: number; lng: number };\n}) {\n  return (\n    <APIProvider apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!}>\n      <Map\n        className=\"w-full h-full\"\n        center={{ lat: userLat, lng: userLng }}\n        defaultZoom={16}\n        gestureHandling=\"greedy\"\n        disableDefaultUI\n        mapId={process.env.NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID}\n      >\n        <AdvancedMarker position={{ lat: userLat, lng: userLng }} />\n        <AdvancedMarker position={{ lat: customerLat, lng: customerLng }}>\n          <Pin\n            background={\"#0f9d58\"}\n            borderColor={\"#006425\"}\n            glyphColor={\"#60d98f\"}\n          />\n        </AdvancedMarker>\n      </Map>\n    </APIProvider>\n  );\n}\n\nexport default LocationMap;\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASA,SAAS,YAAY,EACnB,iBAAiB,EAAE,KAAK,OAAO,EAAE,KAAK,OAAO,EAAE,EAC/C,kBAAkB,EAAE,KAAK,WAAW,EAAE,KAAK,WAAW,EAAE,EAIzD;IACC,qBACE,8OAAC,iMAAW;QAAC,MAAM;kBACjB,cAAA,8OAAC,yLAAG;YACF,WAAU;YACV,QAAQ;gBAAE,KAAK;gBAAS,KAAK;YAAQ;YACrC,aAAa;YACb,iBAAgB;YAChB,gBAAgB;YAChB,KAAK;;8BAEL,8OAAC,oMAAc;oBAAC,UAAU;wBAAE,KAAK;wBAAS,KAAK;oBAAQ;;;;;;8BACvD,8OAAC,oMAAc;oBAAC,UAAU;wBAAE,KAAK;wBAAa,KAAK;oBAAY;8BAC7D,cAAA,8OAAC,yLAAG;wBACF,YAAY;wBACZ,aAAa;wBACb,YAAY;;;;;;;;;;;;;;;;;;;;;;AAMxB;uCAEe","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/shavmiyan/Projects/Automobile-Service-Management-System/user/app-technician-web/src/components/PollTechnicianLocation.ts"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction useLocationWatcher() {\n  const [location, setLocation] = useState<{ lat: number; lng: number }>({\n    lat: 0,\n    lng: 0,\n  });\n\n  useEffect(() => {\n    if (!(\"geolocation\" in navigator)) {\n      console.error(\"Geolocation not supported\");\n      return;\n    }\n    const watchId = navigator.geolocation.watchPosition(\n      async (pos) => {\n        const { latitude, longitude } = pos.coords;\n        \n        setLocation({ lat: latitude, lng: longitude });\n        try {\n          await axios.patch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/api/location`, {\n            lat: latitude,\n            lng: longitude,\n            technicianId: \"tech_102\",\n            requestId: \"68e350f894c77c1f8bab2710\",\n          });\n        } catch (err) {\n          console.error(\"POST /api/locations failed:\", err);\n        }\n      },\n      (err) => {\n        console.error(\"Geolocation error:\", err);\n      },\n      { enableHighAccuracy: true, maximumAge: 5000, timeout: 10000 }\n    );\n\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n  return location;\n}\n\nexport { useLocationWatcher };\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,SAAS;IACP,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA+B;QACrE,KAAK;QACL,KAAK;IACP;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,CAAC,iBAAiB,SAAS,GAAG;YACjC,QAAQ,KAAK,CAAC;YACd;QACF;QACA,MAAM,UAAU,UAAU,WAAW,CAAC,aAAa,CACjD,OAAO;YACL,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,MAAM;YAE1C,YAAY;gBAAE,KAAK;gBAAU,KAAK;YAAU;YAC5C,IAAI;gBACF,MAAM,gJAAK,CAAC,KAAK,CAAC,iEAAwC,aAAa,CAAC,EAAE;oBACxE,KAAK;oBACL,KAAK;oBACL,cAAc;oBACd,WAAW;gBACb;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF,GACA,CAAC;YACC,QAAQ,KAAK,CAAC,sBAAsB;QACtC,GACA;YAAE,oBAAoB;YAAM,YAAY;YAAM,SAAS;QAAM;QAG/D,OAAO,IAAM,UAAU,WAAW,CAAC,UAAU,CAAC;IAChD,GAAG,EAAE;IACL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/shavmiyan/Projects/Automobile-Service-Management-System/user/app-technician-web/src/components/PollCustomerLocation.ts"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction useCustomerLocation() {\n  const [location, setLocation] = useState<{ lat: number; lng: number }>({\n    lat: 0,\n    lng: 0,\n  });\n\n  useEffect(() => {\n    const fetchLocation = async () => {\n      try {\n        const response = await axios.get(\n          `${process.env.NEXT_PUBLIC_API_BASE_URL}/api/customer_location`,\n          {\n            params: { requestId: \"68e350f894c77c1f8bab2710\" },\n          }\n        );\n        const { lat, lng } = response.data;\n        setLocation({ lat, lng });\n      } catch (err) {\n        console.error(\"GET /api/customer-location failed:\", err);\n      }\n    };\n\n    fetchLocation();\n    const intervalId = setInterval(fetchLocation, 10000);\n    return () => clearInterval(intervalId);\n  }, []);\n  return location;\n}\n\nexport { useCustomerLocation };\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,SAAS;IACP,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA+B;QACrE,KAAK;QACL,KAAK;IACP;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAC9B,iEAAwC,sBAAsB,CAAC,EAC/D;oBACE,QAAQ;wBAAE,WAAW;oBAA2B;gBAClD;gBAEF,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,SAAS,IAAI;gBAClC,YAAY;oBAAE;oBAAK;gBAAI;YACzB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,sCAAsC;YACtD;QACF;QAEA;QACA,MAAM,aAAa,YAAY,eAAe;QAC9C,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IACL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Users/shavmiyan/Projects/Automobile-Service-Management-System/user/app-technician-web/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport Map from \"@/components/LocationMap\";\nimport { useLocationWatcher } from \"@/components/PollTechnicianLocation\";\nimport { useCustomerLocation } from \"@/components/PollCustomerLocation\";\n\nexport default function Home() {\n  const currentLocation = useLocationWatcher();\n  const customerLocation = useCustomerLocation();\n  return (\n    <div className=\"h-dvh\">\n      <Map currentLocation={currentLocation} customerLocation={customerLocation} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,kBAAkB,IAAA,iKAAkB;IAC1C,MAAM,mBAAmB,IAAA,gKAAmB;IAC5C,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,4IAAG;YAAC,iBAAiB;YAAiB,kBAAkB;;;;;;;;;;;AAG/D","debugId":null}}]
}